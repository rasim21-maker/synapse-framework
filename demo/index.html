<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYNAPSE Platform - Full Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        synapse: { 50: '#f0f9ff', 100: '#e0f2fe', 500: '#0ea5e9', 600: '#0284c7', 700: '#0369a1' }
                    }
                }
            }
        }
    </script>
    <style>
        .badge { padding: 2px 8px; border-radius: 9999px; font-size: 12px; font-weight: 500; }
        .badge-healthy { background: #dcfce7; color: #166534; }
        .badge-warning { background: #fef3c7; color: #92400e; }
        .badge-critical { background: #fee2e2; color: #991b1b; }
        .card { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .nav-item { display: flex; align-items: center; padding: 10px 16px; border-radius: 8px; color: #64748b; cursor: pointer; margin-bottom: 4px; font-size: 14px; }
        .nav-item:hover { background: #f1f5f9; }
        .nav-item.active { background: #e0f2fe; color: #0284c7; }
        .nav-section { font-size: 11px; font-weight: 600; color: #94a3b8; padding: 12px 16px 4px; text-transform: uppercase; }
        .btn { padding: 8px 16px; border-radius: 8px; font-weight: 500; cursor: pointer; display: inline-flex; align-items: center; }
        .btn-primary { background: #0284c7; color: white; }
        .btn-primary:hover { background: #0369a1; }
        .btn-secondary { background: #f1f5f9; color: #475569; border: 1px solid #e2e8f0; }
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 50; align-items: center; justify-content: center; }
        .modal.active { display: flex; }
        .input { width: 100%; padding: 8px 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 14px; }
        .input:focus { outline: none; border-color: #0284c7; box-shadow: 0 0 0 3px rgba(2,132,199,0.1); }
        .tab { padding: 8px 16px; cursor: pointer; border-bottom: 2px solid transparent; }
        .tab.active { border-color: #0284c7; color: #0284c7; }
        .gantt-bar { height: 24px; border-radius: 4px; position: absolute; }
        .chat-bubble { max-width: 80%; padding: 12px 16px; border-radius: 16px; margin-bottom: 8px; }
        .chat-user { background: #e0f2fe; margin-left: auto; border-bottom-right-radius: 4px; }
        .chat-ai { background: #f1f5f9; margin-right: auto; border-bottom-left-radius: 4px; }
        .risk-matrix { display: grid; grid-template-columns: repeat(5, 1fr); gap: 2px; }
        .risk-cell { aspect-ratio: 1; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 600; }
    </style>
</head>
<body class="bg-gray-50">
    <div class="flex h-screen">
        <!-- Sidebar -->
        <aside class="w-64 bg-white border-r border-gray-200 flex flex-col overflow-y-auto">
            <div class="p-4 border-b border-gray-200">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-synapse-600 rounded-lg flex items-center justify-center">
                        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                    </div>
                    <span class="font-bold text-gray-900">SYNAPSE</span>
                </div>
            </div>
            <nav class="flex-1 p-2">
                <div class="nav-section">Ana Menü</div>
                <div class="nav-item active" onclick="showPage('dashboard')">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6z"/></svg>
                    Dashboard
                </div>
                <div class="nav-item" onclick="showPage('projects')">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/></svg>
                    Projects
                </div>
                
                <div class="nav-section">Planlama</div>
                <div class="nav-item" onclick="showPage('calendar')">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
                    Calendar
                </div>
                <div class="nav-item" onclick="showPage('gantt')">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"/></svg>
                    Gantt Chart
                </div>
                <div class="nav-item" onclick="showPage('roadmap')">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"/></svg>
                    Roadmap
                </div>
                <div class="nav-item" onclick="showPage('workitems')">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/></svg>
                    Work Items
                </div>
                <div class="nav-item" onclick="showPage('sprints')">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
                    Sprints
                </div>

                <div class="nav-section">Kalite & Risk</div>
                <div class="nav-item" onclick="showPage('risks')">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg>
                    Risk Management
                </div>
                <div class="nav-item" onclick="showPage('tests')">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    Test Management
                </div>
                <div class="nav-item" onclick="showPage('idi')">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2z"/></svg>
                    IDI Dashboard
                </div>
                <div class="nav-item" onclick="showPage('qualitygates')">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg>
                    Quality Gates
                </div>

                <div class="nav-section">Raporlar</div>
                <div class="nav-item" onclick="showPage('reports')">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
                    Reports & Analytics
                </div>

                <div class="nav-section">Otomasyon</div>
                <div class="nav-item" onclick="showPage('automation')">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                    Automation Rules
                </div>
                <div class="nav-item" onclick="showPage('aichat')">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"/></svg>
                    AI Assistant
                </div>

                <div class="nav-section">Yönetim</div>
                <div class="nav-item" onclick="showPage('users')">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
                    Users & Roles
                </div>
                <div class="nav-item" onclick="showPage('teams')">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
                    Teams
                </div>
                <div class="nav-item" onclick="showPage('components')">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"/></svg>
                    Components
                </div>
            </nav>
            <div class="p-4 border-t border-gray-200">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-synapse-100 rounded-full flex items-center justify-center">
                        <span class="text-synapse-700 font-medium text-sm">AY</span>
                    </div>
                    <div>
                        <p class="text-sm font-medium text-gray-900">Admin User</p>
                        <p class="text-xs text-gray-500">Project Manager</p>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 overflow-auto">
            <div class="p-6">

                <!-- Dashboard Page -->
                <div id="page-dashboard" class="page">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900">Dashboard</h1>
                            <p class="text-gray-500">SYNAPSE Platform Overview</p>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                        <div class="card"><div class="flex items-center"><div class="p-3 bg-synapse-100 rounded-lg"><svg class="w-6 h-6 text-synapse-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/></svg></div><div class="ml-4"><p class="text-sm text-gray-500">Active Projects</p><p class="text-2xl font-bold">3</p></div></div></div>
                        <div class="card"><div class="flex items-center"><div class="p-3 bg-green-100 rounded-lg"><svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2z"/></svg></div><div class="ml-4"><p class="text-sm text-gray-500">Avg. IDI</p><p class="text-2xl font-bold text-green-600">2.2</p></div></div></div>
                        <div class="card"><div class="flex items-center"><div class="p-3 bg-yellow-100 rounded-lg"><svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg></div><div class="ml-4"><p class="text-sm text-gray-500">Open Risks</p><p class="text-2xl font-bold text-yellow-600">5</p></div></div></div>
                        <div class="card"><div class="flex items-center"><div class="p-3 bg-blue-100 rounded-lg"><svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg></div><div class="ml-4"><p class="text-sm text-gray-500">Tests Passed</p><p class="text-2xl font-bold">94%</p></div></div></div>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="card"><h3 class="font-semibold mb-4">Sprint Burndown</h3><canvas id="burndownChart" height="200"></canvas></div>
                        <div class="card"><h3 class="font-semibold mb-4">Cumulative Flow</h3><canvas id="cfdChart" height="200"></canvas></div>
                    </div>
                </div>

                <!-- Calendar Page -->
                <div id="page-calendar" class="page hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900">Calendar</h1>
                            <p class="text-gray-500">Plan and schedule work</p>
                        </div>
                        <div class="flex space-x-2">
                            <select class="input w-40" onchange="filterCalendar(this.value)">
                                <option value="all">All Views</option>
                                <option value="personal">My Calendar</option>
                                <option value="team">Team Calendar</option>
                                <option value="project">Project Calendar</option>
                            </select>
                            <button class="btn btn-primary">+ Add Event</button>
                        </div>
                    </div>
                    <div class="card">
                        <div class="flex items-center justify-between mb-4">
                            <button class="btn btn-secondary" onclick="prevMonth()">&larr; Prev</button>
                            <h2 class="text-xl font-bold" id="calendarMonth">January 2026</h2>
                            <button class="btn btn-secondary" onclick="nextMonth()">Next &rarr;</button>
                        </div>
                        <div class="grid grid-cols-7 gap-1 mb-2">
                            <div class="text-center text-sm font-medium text-gray-500 py-2">Mon</div>
                            <div class="text-center text-sm font-medium text-gray-500 py-2">Tue</div>
                            <div class="text-center text-sm font-medium text-gray-500 py-2">Wed</div>
                            <div class="text-center text-sm font-medium text-gray-500 py-2">Thu</div>
                            <div class="text-center text-sm font-medium text-gray-500 py-2">Fri</div>
                            <div class="text-center text-sm font-medium text-gray-500 py-2">Sat</div>
                            <div class="text-center text-sm font-medium text-gray-500 py-2">Sun</div>
                        </div>
                        <div class="grid grid-cols-7 gap-1" id="calendarGrid">
                            <!-- Calendar days will be generated by JS -->
                        </div>
                    </div>
                    <div class="card mt-4">
                        <h3 class="font-semibold mb-3">Upcoming Events</h3>
                        <div class="space-y-2">
                            <div class="flex items-center p-3 bg-synapse-50 rounded-lg"><div class="w-3 h-3 bg-synapse-500 rounded-full mr-3"></div><div class="flex-1"><p class="font-medium">Sprint 8 Planning</p><p class="text-sm text-gray-500">Jan 20, 10:00 AM - Team Alpha</p></div></div>
                            <div class="flex items-center p-3 bg-yellow-50 rounded-lg"><div class="w-3 h-3 bg-yellow-500 rounded-full mr-3"></div><div class="flex-1"><p class="font-medium">Risk Review Meeting</p><p class="text-sm text-gray-500">Jan 21, 2:00 PM - Steering Committee</p></div></div>
                            <div class="flex items-center p-3 bg-green-50 rounded-lg"><div class="w-3 h-3 bg-green-500 rounded-full mr-3"></div><div class="flex-1"><p class="font-medium">Integration Milestone</p><p class="text-sm text-gray-500">Jan 25 - All Teams</p></div></div>
                        </div>
                    </div>
                </div>

                <!-- Gantt Chart Page -->
                <div id="page-gantt" class="page hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900">Gantt Chart</h1>
                            <p class="text-gray-500">Project timeline visualization</p>
                        </div>
                        <div class="flex space-x-2">
                            <select class="input w-40">
                                <option>All Projects</option>
                                <option>SmartFactory AI</option>
                                <option>IoT Gateway</option>
                            </select>
                            <select class="input w-40">
                                <option>By Team</option>
                                <option>By Person</option>
                                <option>By Component</option>
                            </select>
                        </div>
                    </div>
                    <div class="card overflow-x-auto">
                        <div class="min-w-[1000px]">
                            <div class="flex border-b pb-2 mb-2">
                                <div class="w-48 font-medium text-gray-700">Task</div>
                                <div class="flex-1 grid grid-cols-12 text-xs text-gray-500 text-center">
                                    <div>Jan 6</div><div>Jan 8</div><div>Jan 10</div><div>Jan 12</div><div>Jan 14</div><div>Jan 16</div>
                                    <div>Jan 18</div><div>Jan 20</div><div>Jan 22</div><div>Jan 24</div><div>Jan 26</div><div>Jan 28</div>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <div class="flex items-center"><div class="w-48 text-sm font-medium">ML Inference Engine</div><div class="flex-1 relative h-8"><div class="gantt-bar bg-synapse-500" style="left:0%;width:60%"></div></div></div>
                                <div class="flex items-center"><div class="w-48 text-sm pl-4">- Model Training</div><div class="flex-1 relative h-6"><div class="gantt-bar bg-synapse-300" style="left:0%;width:25%"></div></div></div>
                                <div class="flex items-center"><div class="w-48 text-sm pl-4">- API Integration</div><div class="flex-1 relative h-6"><div class="gantt-bar bg-synapse-300" style="left:20%;width:30%"></div></div></div>
                                <div class="flex items-center"><div class="w-48 text-sm font-medium">Cloud Gateway</div><div class="flex-1 relative h-8"><div class="gantt-bar bg-yellow-500" style="left:10%;width:50%"></div></div></div>
                                <div class="flex items-center"><div class="w-48 text-sm font-medium">Data Pipeline</div><div class="flex-1 relative h-8"><div class="gantt-bar bg-green-500" style="left:30%;width:40%"></div></div></div>
                                <div class="flex items-center"><div class="w-48 text-sm font-medium">Edge Module</div><div class="flex-1 relative h-8"><div class="gantt-bar bg-purple-500" style="left:50%;width:45%"></div></div></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Roadmap Page -->
                <div id="page-roadmap" class="page hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900">Roadmap</h1>
                            <p class="text-gray-500">Strategic project timeline</p>
                        </div>
                        <div class="flex space-x-2">
                            <select class="input w-40"><option>All Teams</option><option>Team Alpha</option><option>Team Beta</option></select>
                            <select class="input w-32"><option>Quarterly</option><option>Monthly</option><option>Yearly</option></select>
                        </div>
                    </div>
                    <div class="card">
                        <div class="grid grid-cols-4 gap-4 mb-6 text-center">
                            <div class="p-3 bg-gray-100 rounded-lg font-medium">Q1 2026</div>
                            <div class="p-3 bg-synapse-100 rounded-lg font-medium text-synapse-700">Q2 2026</div>
                            <div class="p-3 bg-gray-100 rounded-lg font-medium">Q3 2026</div>
                            <div class="p-3 bg-gray-100 rounded-lg font-medium">Q4 2026</div>
                        </div>
                        <div class="space-y-4">
                            <div class="border-l-4 border-synapse-500 pl-4">
                                <h3 class="font-semibold">SmartFactory AI</h3>
                                <div class="mt-2 grid grid-cols-4 gap-2">
                                    <div class="bg-synapse-100 rounded p-2 text-sm"><strong>Development</strong><br>Core ML Engine</div>
                                    <div class="bg-synapse-100 rounded p-2 text-sm"><strong>Integration</strong><br>Cloud + Edge</div>
                                    <div class="bg-green-100 rounded p-2 text-sm"><strong>Validation</strong><br>Field Testing</div>
                                    <div class="bg-blue-100 rounded p-2 text-sm"><strong>Deployment</strong><br>Production</div>
                                </div>
                            </div>
                            <div class="border-l-4 border-yellow-500 pl-4">
                                <h3 class="font-semibold">IoT Gateway Platform</h3>
                                <div class="mt-2 grid grid-cols-4 gap-2">
                                    <div class="bg-yellow-100 rounded p-2 text-sm"><strong>Integration</strong><br>Protocol Support</div>
                                    <div class="bg-green-100 rounded p-2 text-sm"><strong>Validation</strong><br>Security Audit</div>
                                    <div class="bg-blue-100 rounded p-2 text-sm"><strong>Deployment</strong><br>Beta Release</div>
                                    <div class="bg-gray-100 rounded p-2 text-sm"><strong>Operations</strong><br>GA Release</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Risk Management Page -->
                <div id="page-risks" class="page hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900">Risk Management</h1>
                            <p class="text-gray-500">Identify, assess, and mitigate project risks</p>
                        </div>
                        <button class="btn btn-primary" onclick="openModal('newRiskModal')">+ New Risk</button>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                        <div class="card">
                            <h3 class="font-semibold mb-4">Risk Matrix</h3>
                            <div class="text-xs text-gray-500 mb-2 text-center">Impact &rarr;</div>
                            <div class="risk-matrix">
                                <div class="risk-cell bg-yellow-200">1</div><div class="risk-cell bg-yellow-300">1</div><div class="risk-cell bg-orange-300">0</div><div class="risk-cell bg-red-300">0</div><div class="risk-cell bg-red-400">0</div>
                                <div class="risk-cell bg-green-200">0</div><div class="risk-cell bg-yellow-200">2</div><div class="risk-cell bg-yellow-300">0</div><div class="risk-cell bg-orange-300">1</div><div class="risk-cell bg-red-300">0</div>
                                <div class="risk-cell bg-green-200">0</div><div class="risk-cell bg-green-200">0</div><div class="risk-cell bg-yellow-200">0</div><div class="risk-cell bg-yellow-300">0</div><div class="risk-cell bg-orange-300">0</div>
                                <div class="risk-cell bg-green-100">0</div><div class="risk-cell bg-green-200">0</div><div class="risk-cell bg-green-200">0</div><div class="risk-cell bg-yellow-200">0</div><div class="risk-cell bg-yellow-300">0</div>
                                <div class="risk-cell bg-green-100">0</div><div class="risk-cell bg-green-100">0</div><div class="risk-cell bg-green-200">0</div><div class="risk-cell bg-green-200">0</div><div class="risk-cell bg-yellow-200">0</div>
                            </div>
                            <div class="text-xs text-gray-500 mt-2">&uarr; Probability</div>
                        </div>
                        <div class="card">
                            <h3 class="font-semibold mb-4">Risk Summary</h3>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center"><span class="text-sm">Critical</span><span class="badge badge-critical">0</span></div>
                                <div class="flex justify-between items-center"><span class="text-sm">High</span><span class="badge badge-warning">2</span></div>
                                <div class="flex justify-between items-center"><span class="text-sm">Medium</span><span class="badge bg-yellow-100 text-yellow-800">3</span></div>
                                <div class="flex justify-between items-center"><span class="text-sm">Low</span><span class="badge badge-healthy">2</span></div>
                            </div>
                        </div>
                        <div class="card">
                            <h3 class="font-semibold mb-4">Risk Trend</h3>
                            <canvas id="riskTrendChart" height="150"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="font-semibold mb-4">Risk Register</h3>
                        <table class="w-full text-sm">
                            <thead><tr class="text-left text-xs text-gray-500 uppercase border-b"><th class="pb-3">ID</th><th class="pb-3">Risk</th><th class="pb-3">Category</th><th class="pb-3">Probability</th><th class="pb-3">Impact</th><th class="pb-3">Score</th><th class="pb-3">Status</th><th class="pb-3">Owner</th><th class="pb-3">Actions</th></tr></thead>
                            <tbody>
                                <tr class="border-b hover:bg-gray-50"><td class="py-3">R-001</td><td class="font-medium">Hardware supply chain delay</td><td><span class="badge bg-purple-100 text-purple-700">Supply</span></td><td>High</td><td>High</td><td class="font-bold text-red-600">16</td><td><span class="badge badge-warning">Mitigating</span></td><td>John S.</td><td><button class="text-synapse-600 hover:underline">View</button></td></tr>
                                <tr class="border-b hover:bg-gray-50"><td class="py-3">R-002</td><td class="font-medium">ML model accuracy below target</td><td><span class="badge bg-blue-100 text-blue-700">Technical</span></td><td>Medium</td><td>High</td><td class="font-bold text-orange-600">12</td><td><span class="badge bg-blue-100 text-blue-700">Monitoring</span></td><td>Sarah J.</td><td><button class="text-synapse-600 hover:underline">View</button></td></tr>
                                <tr class="border-b hover:bg-gray-50"><td class="py-3">R-003</td><td class="font-medium">Integration complexity</td><td><span class="badge bg-blue-100 text-blue-700">Technical</span></td><td>Medium</td><td>Medium</td><td class="font-bold text-yellow-600">9</td><td><span class="badge badge-warning">Mitigating</span></td><td>Mike W.</td><td><button class="text-synapse-600 hover:underline">View</button></td></tr>
                                <tr class="border-b hover:bg-gray-50"><td class="py-3">R-004</td><td class="font-medium">Resource availability</td><td><span class="badge bg-green-100 text-green-700">Resource</span></td><td>Low</td><td>Medium</td><td class="font-bold text-green-600">6</td><td><span class="badge badge-healthy">Accepted</span></td><td>Admin</td><td><button class="text-synapse-600 hover:underline">View</button></td></tr>
                                <tr class="hover:bg-gray-50"><td class="py-3">R-005</td><td class="font-medium">Regulatory compliance changes</td><td><span class="badge bg-orange-100 text-orange-700">External</span></td><td>Low</td><td>High</td><td class="font-bold text-yellow-600">8</td><td><span class="badge bg-blue-100 text-blue-700">Monitoring</span></td><td>Legal</td><td><button class="text-synapse-600 hover:underline">View</button></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Test Management Page -->
                <div id="page-tests" class="page hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900">Test Management</h1>
                            <p class="text-gray-500">Test plans, cases, and execution tracking</p>
                        </div>
                        <div class="flex space-x-2">
                            <button class="btn btn-secondary">+ Test Plan</button>
                            <button class="btn btn-primary">+ Test Case</button>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                        <div class="card text-center"><p class="text-3xl font-bold text-gray-900">156</p><p class="text-sm text-gray-500">Total Tests</p></div>
                        <div class="card text-center"><p class="text-3xl font-bold text-green-600">142</p><p class="text-sm text-gray-500">Passed</p></div>
                        <div class="card text-center"><p class="text-3xl font-bold text-red-600">8</p><p class="text-sm text-gray-500">Failed</p></div>
                        <div class="card text-center"><p class="text-3xl font-bold text-yellow-600">6</p><p class="text-sm text-gray-500">Blocked</p></div>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                        <div class="card">
                            <h3 class="font-semibold mb-4">Test Coverage by Component</h3>
                            <div class="space-y-3">
                                <div><div class="flex justify-between text-sm mb-1"><span>ML Inference Engine</span><span>78%</span></div><div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-yellow-500 h-2 rounded-full" style="width:78%"></div></div></div>
                                <div><div class="flex justify-between text-sm mb-1"><span>Cloud Gateway</span><span>95%</span></div><div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-green-500 h-2 rounded-full" style="width:95%"></div></div></div>
                                <div><div class="flex justify-between text-sm mb-1"><span>Data Pipeline</span><span>88%</span></div><div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-green-500 h-2 rounded-full" style="width:88%"></div></div></div>
                                <div><div class="flex justify-between text-sm mb-1"><span>Edge Module</span><span>65%</span></div><div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-red-500 h-2 rounded-full" style="width:65%"></div></div></div>
                            </div>
                        </div>
                        <div class="card">
                            <h3 class="font-semibold mb-4">Test Execution Trend</h3>
                            <canvas id="testTrendChart" height="150"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="font-semibold">Test Cases</h3>
                            <div class="flex space-x-2">
                                <select class="input w-32 text-sm"><option>All Status</option><option>Passed</option><option>Failed</option><option>Blocked</option></select>
                                <select class="input w-40 text-sm"><option>All Components</option><option>ML Engine</option><option>Gateway</option></select>
                            </div>
                        </div>
                        <table class="w-full text-sm">
                            <thead><tr class="text-left text-xs text-gray-500 uppercase border-b"><th class="pb-3">ID</th><th class="pb-3">Test Case</th><th class="pb-3">Component</th><th class="pb-3">Type</th><th class="pb-3">Priority</th><th class="pb-3">Status</th><th class="pb-3">Last Run</th><th class="pb-3">Actions</th></tr></thead>
                            <tbody>
                                <tr class="border-b hover:bg-gray-50"><td class="py-3">TC-001</td><td class="font-medium">Sensor data ingestion latency</td><td>Data Pipeline</td><td><span class="badge bg-blue-100 text-blue-700">Performance</span></td><td>High</td><td><span class="badge badge-healthy">Passed</span></td><td>2h ago</td><td><button class="text-synapse-600 hover:underline">Run</button></td></tr>
                                <tr class="border-b hover:bg-gray-50"><td class="py-3">TC-002</td><td class="font-medium">ML model inference accuracy</td><td>ML Engine</td><td><span class="badge bg-purple-100 text-purple-700">Functional</span></td><td>Critical</td><td><span class="badge badge-critical">Failed</span></td><td>1h ago</td><td><button class="text-synapse-600 hover:underline">Run</button></td></tr>
                                <tr class="border-b hover:bg-gray-50"><td class="py-3">TC-003</td><td class="font-medium">Gateway authentication</td><td>Cloud Gateway</td><td><span class="badge bg-red-100 text-red-700">Security</span></td><td>Critical</td><td><span class="badge badge-healthy">Passed</span></td><td>3h ago</td><td><button class="text-synapse-600 hover:underline">Run</button></td></tr>
                                <tr class="border-b hover:bg-gray-50"><td class="py-3">TC-004</td><td class="font-medium">Edge device power consumption</td><td>Edge Module</td><td><span class="badge bg-orange-100 text-orange-700">Hardware</span></td><td>High</td><td><span class="badge badge-warning">Blocked</span></td><td>1d ago</td><td><button class="text-synapse-600 hover:underline">Run</button></td></tr>
                                <tr class="hover:bg-gray-50"><td class="py-3">TC-005</td><td class="font-medium">Data encryption at rest</td><td>Data Pipeline</td><td><span class="badge bg-red-100 text-red-700">Security</span></td><td>High</td><td><span class="badge badge-healthy">Passed</span></td><td>5h ago</td><td><button class="text-synapse-600 hover:underline">Run</button></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Reports Page -->
                <div id="page-reports" class="page hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900">Reports & Analytics</h1>
                            <p class="text-gray-500">Cumulative flow, velocity, and custom reports</p>
                        </div>
                        <div class="flex space-x-2">
                            <select class="input w-40"><option>Last 30 Days</option><option>Last 90 Days</option><option>This Quarter</option></select>
                            <button class="btn btn-secondary">Export PDF</button>
                        </div>
                    </div>
                    <div class="flex space-x-4 mb-6 border-b">
                        <div class="tab active" onclick="showReportTab('cfd')">Cumulative Flow</div>
                        <div class="tab" onclick="showReportTab('velocity')">Velocity</div>
                        <div class="tab" onclick="showReportTab('burndown')">Burndown</div>
                        <div class="tab" onclick="showReportTab('cycle')">Cycle Time</div>
                        <div class="tab" onclick="showReportTab('custom')">Custom Reports</div>
                    </div>
                    <div id="report-cfd" class="report-content">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                            <div class="card text-center"><p class="text-3xl font-bold">12.5</p><p class="text-sm text-gray-500">Avg. Lead Time (days)</p></div>
                            <div class="card text-center"><p class="text-3xl font-bold">4.2</p><p class="text-sm text-gray-500">Avg. Cycle Time (days)</p></div>
                            <div class="card text-center"><p class="text-3xl font-bold">8.3</p><p class="text-sm text-gray-500">WIP Average</p></div>
                        </div>
                        <div class="card"><h3 class="font-semibold mb-4">Cumulative Flow Diagram</h3><canvas id="cfdMainChart" height="300"></canvas></div>
                    </div>
                    <div id="report-velocity" class="report-content hidden">
                        <div class="card"><h3 class="font-semibold mb-4">Sprint Velocity</h3><canvas id="velocityChart" height="300"></canvas>
                        <div class="mt-4 grid grid-cols-3 gap-4 text-center">
                            <div><p class="text-2xl font-bold">32</p><p class="text-sm text-gray-500">Avg Velocity</p></div>
                            <div><p class="text-2xl font-bold">28</p><p class="text-sm text-gray-500">Min Velocity</p></div>
                            <div><p class="text-2xl font-bold">38</p><p class="text-sm text-gray-500">Max Velocity</p></div>
                        </div></div>
                    </div>
                    <div id="report-burndown" class="report-content hidden">
                        <div class="card"><h3 class="font-semibold mb-4">Sprint Burndown</h3><canvas id="burndownMainChart" height="300"></canvas></div>
                    </div>
                    <div id="report-cycle" class="report-content hidden">
                        <div class="card"><h3 class="font-semibold mb-4">Cycle Time Distribution</h3><canvas id="cycleTimeChart" height="300"></canvas></div>
                    </div>
                    <div id="report-custom" class="report-content hidden">
                        <div class="card">
                            <h3 class="font-semibold mb-4">Custom Report Builder</h3>
                            <div class="grid grid-cols-3 gap-4 mb-4">
                                <div><label class="block text-sm font-medium mb-1">Report Type</label><select class="input"><option>Work Item Summary</option><option>Time Tracking</option><option>Resource Allocation</option><option>Risk Report</option></select></div>
                                <div><label class="block text-sm font-medium mb-1">Group By</label><select class="input"><option>Person</option><option>Team</option><option>Component</option><option>Sprint</option></select></div>
                                <div><label class="block text-sm font-medium mb-1">Date Range</label><select class="input"><option>Last 7 Days</option><option>Last 30 Days</option><option>Custom</option></select></div>
                            </div>
                            <button class="btn btn-primary">Generate Report</button>
                        </div>
                    </div>
                </div>

                <!-- Automation Page -->
                <div id="page-automation" class="page hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900">Automation Rules</h1>
                            <p class="text-gray-500">Create rules to automate repetitive tasks</p>
                        </div>
                        <button class="btn btn-primary" onclick="openModal('newAutomationModal')">+ Create Rule</button>
                    </div>
                    <div class="card bg-synapse-50 mb-6">
                        <div class="flex items-center"><svg class="w-6 h-6 text-synapse-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                        <div><h3 class="font-medium">How Automation Works</h3><p class="text-sm text-gray-600">When a trigger event occurs, conditions are checked, and if met, actions are executed automatically.</p></div></div>
                    </div>
                    <div class="space-y-4">
                        <div class="card border-l-4 border-green-500">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-4"><svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg></div>
                                    <div>
                                        <h3 class="font-semibold">Auto-assign to Sprint</h3>
                                        <p class="text-sm text-gray-500">WHEN work item status changes to "Ready" THEN add to current sprint</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-4">
                                    <span class="text-sm text-gray-500">Triggered 24 times</span>
                                    <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" checked class="sr-only peer"><div class="w-11 h-6 bg-gray-200 peer-checked:bg-green-500 rounded-full peer after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div></label>
                                </div>
                            </div>
                        </div>
                        <div class="card border-l-4 border-green-500">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-4"><svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg></div>
                                    <div>
                                        <h3 class="font-semibold">IDI Alert Notification</h3>
                                        <p class="text-sm text-gray-500">WHEN component IDI exceeds 4.0 THEN send Slack notification to team lead</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-4">
                                    <span class="text-sm text-gray-500">Triggered 8 times</span>
                                    <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" checked class="sr-only peer"><div class="w-11 h-6 bg-gray-200 peer-checked:bg-green-500 rounded-full peer after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div></label>
                                </div>
                            </div>
                        </div>
                        <div class="card border-l-4 border-green-500">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-4"><svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg></div>
                                    <div>
                                        <h3 class="font-semibold">Auto-close Stale Items</h3>
                                        <p class="text-sm text-gray-500">WHEN work item inactive for 30 days AND status is "Blocked" THEN change status to "Cancelled"</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-4">
                                    <span class="text-sm text-gray-500">Triggered 3 times</span>
                                    <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" checked class="sr-only peer"><div class="w-11 h-6 bg-gray-200 peer-checked:bg-green-500 rounded-full peer after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div></label>
                                </div>
                            </div>
                        </div>
                        <div class="card border-l-4 border-yellow-500">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center mr-4"><svg class="w-5 h-5 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg></div>
                                    <div>
                                        <h3 class="font-semibold">Risk Escalation</h3>
                                        <p class="text-sm text-gray-500">WHEN risk score exceeds 15 THEN notify steering committee AND create meeting</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-4">
                                    <span class="text-sm text-gray-500">Triggered 1 time</span>
                                    <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" checked class="sr-only peer"><div class="w-11 h-6 bg-gray-200 peer-checked:bg-green-500 rounded-full peer after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div></label>
                                </div>
                            </div>
                        </div>
                        <div class="card border-l-4 border-gray-300 opacity-60">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center mr-4"><svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg></div>
                                    <div>
                                        <h3 class="font-semibold text-gray-500">Quality Gate Auto-Reject</h3>
                                        <p class="text-sm text-gray-400">WHEN quality gate fails THEN block deployment AND notify DevOps</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-4">
                                    <span class="badge bg-gray-100 text-gray-500">Disabled</span>
                                    <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" class="sr-only peer"><div class="w-11 h-6 bg-gray-200 peer-checked:bg-green-500 rounded-full peer after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div></label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AI Chat Page -->
                <div id="page-aichat" class="page hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900">AI Assistant</h1>
                            <p class="text-gray-500">Chat with AI to manage your project</p>
                        </div>
                        <button class="btn btn-secondary">Clear Chat</button>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                        <div class="lg:col-span-3">
                            <div class="card h-[500px] flex flex-col">
                                <div class="flex-1 overflow-y-auto p-4 space-y-4" id="chatMessages">
                                    <div class="chat-bubble chat-ai">
                                        <p class="font-medium mb-1">SYNAPSE AI</p>
                                        <p>Hello! I am your SYNAPSE AI assistant. I can help you with:</p>
                                        <ul class="list-disc list-inside mt-2 text-sm">
                                            <li>Creating and managing work items</li>
                                            <li>Analyzing project risks</li>
                                            <li>Generating reports</li>
                                            <li>Setting up automations</li>
                                            <li>Answering questions about your project</li>
                                        </ul>
                                    </div>
                                    <div class="chat-bubble chat-user">
                                        <p>What is the current IDI status of the SmartFactory project?</p>
                                    </div>
                                    <div class="chat-bubble chat-ai">
                                        <p class="font-medium mb-1">SYNAPSE AI</p>
                                        <p>The SmartFactory AI project has a current IDI of <strong>2.9</strong> which is in the <span class="text-green-600 font-medium">Healthy</span> range.</p>
                                        <p class="mt-2">However, I noticed the <strong>ML Inference Engine</strong> component has an IDI of 5.8 which is <span class="text-red-600 font-medium">Critical</span>. I recommend scheduling an integration within the next 2 days.</p>
                                        <p class="mt-2 text-sm text-gray-500">Would you like me to create an integration task for this component?</p>
                                    </div>
                                    <div class="chat-bubble chat-user">
                                        <p>Yes, create an integration task and assign it to John</p>
                                    </div>
                                    <div class="chat-bubble chat-ai">
                                        <p class="font-medium mb-1">SYNAPSE AI</p>
                                        <p>Done! I have created the following task:</p>
                                        <div class="bg-white rounded-lg p-3 mt-2 border">
                                            <p class="font-medium">INT-089: ML Inference Engine Integration</p>
                                            <p class="text-sm text-gray-500">Assigned to: John Smith</p>
                                            <p class="text-sm text-gray-500">Priority: Critical</p>
                                            <p class="text-sm text-gray-500">Due: Jan 21, 2026</p>
                                        </div>
                                        <p class="mt-2 text-sm">I have also set up an automation to notify you when the integration is complete.</p>
                                    </div>
                                </div>
                                <div class="border-t p-4">
                                    <div class="flex space-x-2">
                                        <input type="text" class="input flex-1" placeholder="Ask anything about your project..." id="chatInput">
                                        <button class="btn btn-primary" onclick="sendChat()">Send</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="space-y-4">
                            <div class="card">
                                <h3 class="font-semibold mb-3">Quick Actions</h3>
                                <div class="space-y-2">
                                    <button class="w-full text-left p-2 hover:bg-gray-50 rounded text-sm" onclick="setChat('Create a bug report')">Create a bug report</button>
                                    <button class="w-full text-left p-2 hover:bg-gray-50 rounded text-sm" onclick="setChat('Show project summary')">Show project summary</button>
                                    <button class="w-full text-left p-2 hover:bg-gray-50 rounded text-sm" onclick="setChat('List overdue tasks')">List overdue tasks</button>
                                    <button class="w-full text-left p-2 hover:bg-gray-50 rounded text-sm" onclick="setChat('Generate weekly report')">Generate weekly report</button>
                                    <button class="w-full text-left p-2 hover:bg-gray-50 rounded text-sm" onclick="setChat('Create automation rule')">Create automation rule</button>
                                </div>
                            </div>
                            <div class="card">
                                <h3 class="font-semibold mb-3">AI Capabilities</h3>
                                <div class="space-y-2 text-sm">
                                    <div class="flex items-center text-green-600"><svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>Natural language commands</div>
                                    <div class="flex items-center text-green-600"><svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>Create work items</div>
                                    <div class="flex items-center text-green-600"><svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>Setup automations</div>
                                    <div class="flex items-center text-green-600"><svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>Generate reports</div>
                                    <div class="flex items-center text-green-600"><svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>Risk analysis</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Users & Roles Page -->
                <div id="page-users" class="page hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900">Users & Roles</h1>
                            <p class="text-gray-500">Manage users, roles, and permissions</p>
                        </div>
                        <div class="flex space-x-2">
                            <button class="btn btn-secondary" onclick="openModal('newRoleModal')">+ New Role</button>
                            <button class="btn btn-primary" onclick="openModal('newUserModal')">+ Invite User</button>
                        </div>
                    </div>
                    <div class="flex space-x-4 mb-6 border-b">
                        <div class="tab active" onclick="showUserTab('users')">Users</div>
                        <div class="tab" onclick="showUserTab('roles')">Roles</div>
                        <div class="tab" onclick="showUserTab('permissions')">Permissions</div>
                    </div>
                    <div id="users-tab-users">
                        <div class="card">
                            <div class="flex items-center justify-between mb-4">
                                <input type="text" class="input w-64" placeholder="Search users...">
                                <select class="input w-40"><option>All Roles</option><option>Admin</option><option>Project Manager</option><option>Developer</option></select>
                            </div>
                            <table class="w-full text-sm">
                                <thead><tr class="text-left text-xs text-gray-500 uppercase border-b"><th class="pb-3">User</th><th class="pb-3">Email</th><th class="pb-3">Role</th><th class="pb-3">Team</th><th class="pb-3">Status</th><th class="pb-3">Last Active</th><th class="pb-3">Actions</th></tr></thead>
                                <tbody>
                                    <tr class="border-b hover:bg-gray-50"><td class="py-3"><div class="flex items-center"><div class="w-8 h-8 bg-synapse-100 rounded-full flex items-center justify-center mr-3"><span class="text-synapse-700 font-medium text-sm">JS</span></div><span class="font-medium">John Smith</span></div></td><td>john.smith@company.com</td><td><span class="badge bg-purple-100 text-purple-700">Project Manager</span></td><td>Team Alpha</td><td><span class="badge badge-healthy">Active</span></td><td>Just now</td><td><button class="text-synapse-600 hover:underline">Edit</button></td></tr>
                                    <tr class="border-b hover:bg-gray-50"><td class="py-3"><div class="flex items-center"><div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3"><span class="text-green-700 font-medium text-sm">SJ</span></div><span class="font-medium">Sarah Johnson</span></div></td><td>sarah.j@company.com</td><td><span class="badge bg-blue-100 text-blue-700">Developer</span></td><td>Team Alpha</td><td><span class="badge badge-healthy">Active</span></td><td>5 min ago</td><td><button class="text-synapse-600 hover:underline">Edit</button></td></tr>
                                    <tr class="border-b hover:bg-gray-50"><td class="py-3"><div class="flex items-center"><div class="w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mr-3"><span class="text-orange-700 font-medium text-sm">MW</span></div><span class="font-medium">Mike Wilson</span></div></td><td>mike.w@company.com</td><td><span class="badge bg-blue-100 text-blue-700">Developer</span></td><td>Team Beta</td><td><span class="badge badge-healthy">Active</span></td><td>1 hour ago</td><td><button class="text-synapse-600 hover:underline">Edit</button></td></tr>
                                    <tr class="border-b hover:bg-gray-50"><td class="py-3"><div class="flex items-center"><div class="w-8 h-8 bg-red-100 rounded-full flex items-center justify-center mr-3"><span class="text-red-700 font-medium text-sm">AK</span></div><span class="font-medium">Alice Kim</span></div></td><td>alice.kim@company.com</td><td><span class="badge bg-yellow-100 text-yellow-700">QA Lead</span></td><td>QA Team</td><td><span class="badge badge-healthy">Active</span></td><td>2 hours ago</td><td><button class="text-synapse-600 hover:underline">Edit</button></td></tr>
                                    <tr class="hover:bg-gray-50"><td class="py-3"><div class="flex items-center"><div class="w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center mr-3"><span class="text-gray-700 font-medium text-sm">RB</span></div><span class="font-medium">Robert Brown</span></div></td><td>robert.b@company.com</td><td><span class="badge bg-red-100 text-red-700">Admin</span></td><td>-</td><td><span class="badge bg-gray-100 text-gray-600">Inactive</span></td><td>3 days ago</td><td><button class="text-synapse-600 hover:underline">Edit</button></td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div id="users-tab-roles" class="hidden">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="card border-l-4 border-red-500">
                                <h3 class="font-semibold">Admin</h3>
                                <p class="text-sm text-gray-500 mt-1">Full system access</p>
                                <div class="mt-3 text-sm"><span class="font-medium">1</span> user</div>
                                <div class="mt-2 flex flex-wrap gap-1"><span class="badge bg-gray-100">All Permissions</span></div>
                            </div>
                            <div class="card border-l-4 border-purple-500">
                                <h3 class="font-semibold">Project Manager</h3>
                                <p class="text-sm text-gray-500 mt-1">Manage projects and teams</p>
                                <div class="mt-3 text-sm"><span class="font-medium">3</span> users</div>
                                <div class="mt-2 flex flex-wrap gap-1"><span class="badge bg-gray-100">Projects</span><span class="badge bg-gray-100">Teams</span><span class="badge bg-gray-100">Reports</span></div>
                            </div>
                            <div class="card border-l-4 border-blue-500">
                                <h3 class="font-semibold">Developer</h3>
                                <p class="text-sm text-gray-500 mt-1">Create and manage work items</p>
                                <div class="mt-3 text-sm"><span class="font-medium">8</span> users</div>
                                <div class="mt-2 flex flex-wrap gap-1"><span class="badge bg-gray-100">Work Items</span><span class="badge bg-gray-100">Components</span></div>
                            </div>
                            <div class="card border-l-4 border-yellow-500">
                                <h3 class="font-semibold">QA Lead</h3>
                                <p class="text-sm text-gray-500 mt-1">Manage tests and quality</p>
                                <div class="mt-3 text-sm"><span class="font-medium">2</span> users</div>
                                <div class="mt-2 flex flex-wrap gap-1"><span class="badge bg-gray-100">Tests</span><span class="badge bg-gray-100">Quality Gates</span></div>
                            </div>
                            <div class="card border-l-4 border-green-500">
                                <h3 class="font-semibold">Stakeholder</h3>
                                <p class="text-sm text-gray-500 mt-1">View-only access to reports</p>
                                <div class="mt-3 text-sm"><span class="font-medium">5</span> users</div>
                                <div class="mt-2 flex flex-wrap gap-1"><span class="badge bg-gray-100">View Reports</span><span class="badge bg-gray-100">View Dashboard</span></div>
                            </div>
                            <div class="card border-l-4 border-orange-500">
                                <h3 class="font-semibold">Steering Committee</h3>
                                <p class="text-sm text-gray-500 mt-1">Strategic oversight access</p>
                                <div class="mt-3 text-sm"><span class="font-medium">3</span> users</div>
                                <div class="mt-2 flex flex-wrap gap-1"><span class="badge bg-gray-100">Risks</span><span class="badge bg-gray-100">Reports</span><span class="badge bg-gray-100">Approvals</span></div>
                            </div>
                        </div>
                    </div>
                    <div id="users-tab-permissions" class="hidden">
                        <div class="card">
                            <h3 class="font-semibold mb-4">Permission Matrix</h3>
                            <table class="w-full text-sm">
                                <thead><tr class="text-left text-xs text-gray-500 uppercase border-b"><th class="pb-3">Permission</th><th class="pb-3 text-center">Admin</th><th class="pb-3 text-center">PM</th><th class="pb-3 text-center">Developer</th><th class="pb-3 text-center">QA</th><th class="pb-3 text-center">Stakeholder</th></tr></thead>
                                <tbody>
                                    <tr class="border-b"><td class="py-2">Create Projects</td><td class="text-center text-green-600">&#10003;</td><td class="text-center text-green-600">&#10003;</td><td class="text-center text-red-400">&#10005;</td><td class="text-center text-red-400">&#10005;</td><td class="text-center text-red-400">&#10005;</td></tr>
                                    <tr class="border-b"><td class="py-2">Manage Work Items</td><td class="text-center text-green-600">&#10003;</td><td class="text-center text-green-600">&#10003;</td><td class="text-center text-green-600">&#10003;</td><td class="text-center text-green-600">&#10003;</td><td class="text-center text-red-400">&#10005;</td></tr>
                                    <tr class="border-b"><td class="py-2">View Reports</td><td class="text-center text-green-600">&#10003;</td><td class="text-center text-green-600">&#10003;</td><td class="text-center text-green-600">&#10003;</td><td class="text-center text-green-600">&#10003;</td><td class="text-center text-green-600">&#10003;</td></tr>
                                    <tr class="border-b"><td class="py-2">Manage Users</td><td class="text-center text-green-600">&#10003;</td><td class="text-center text-red-400">&#10005;</td><td class="text-center text-red-400">&#10005;</td><td class="text-center text-red-400">&#10005;</td><td class="text-center text-red-400">&#10005;</td></tr>
                                    <tr class="border-b"><td class="py-2">Configure Automation</td><td class="text-center text-green-600">&#10003;</td><td class="text-center text-green-600">&#10003;</td><td class="text-center text-red-400">&#10005;</td><td class="text-center text-red-400">&#10005;</td><td class="text-center text-red-400">&#10005;</td></tr>
                                    <tr><td class="py-2">Manage Quality Gates</td><td class="text-center text-green-600">&#10003;</td><td class="text-center text-green-600">&#10003;</td><td class="text-center text-red-400">&#10005;</td><td class="text-center text-green-600">&#10003;</td><td class="text-center text-red-400">&#10005;</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Teams Page -->
                <div id="page-teams" class="page hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900">Teams</h1>
                            <p class="text-gray-500">Organize users into teams</p>
                        </div>
                        <button class="btn btn-primary">+ Create Team</button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="card">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-semibold">Team Alpha</h3>
                                <span class="badge bg-synapse-100 text-synapse-700">Active</span>
                            </div>
                            <p class="text-sm text-gray-500 mb-4">ML & Data Engineering</p>
                            <div class="flex -space-x-2 mb-4">
                                <div class="w-8 h-8 bg-synapse-100 rounded-full border-2 border-white flex items-center justify-center"><span class="text-xs font-medium text-synapse-700">JS</span></div>
                                <div class="w-8 h-8 bg-green-100 rounded-full border-2 border-white flex items-center justify-center"><span class="text-xs font-medium text-green-700">SJ</span></div>
                                <div class="w-8 h-8 bg-blue-100 rounded-full border-2 border-white flex items-center justify-center"><span class="text-xs font-medium text-blue-700">+3</span></div>
                            </div>
                            <div class="text-sm text-gray-500"><span class="font-medium">5</span> members &bull; <span class="font-medium">23</span> active tasks</div>
                            <button class="btn btn-secondary w-full mt-4">Manage Team</button>
                        </div>
                        <div class="card">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-semibold">Team Beta</h3>
                                <span class="badge bg-synapse-100 text-synapse-700">Active</span>
                            </div>
                            <p class="text-sm text-gray-500 mb-4">Cloud & Infrastructure</p>
                            <div class="flex -space-x-2 mb-4">
                                <div class="w-8 h-8 bg-orange-100 rounded-full border-2 border-white flex items-center justify-center"><span class="text-xs font-medium text-orange-700">MW</span></div>
                                <div class="w-8 h-8 bg-purple-100 rounded-full border-2 border-white flex items-center justify-center"><span class="text-xs font-medium text-purple-700">TK</span></div>
                                <div class="w-8 h-8 bg-pink-100 rounded-full border-2 border-white flex items-center justify-center"><span class="text-xs font-medium text-pink-700">+2</span></div>
                            </div>
                            <div class="text-sm text-gray-500"><span class="font-medium">4</span> members &bull; <span class="font-medium">18</span> active tasks</div>
                            <button class="btn btn-secondary w-full mt-4">Manage Team</button>
                        </div>
                        <div class="card">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-semibold">QA Team</h3>
                                <span class="badge bg-synapse-100 text-synapse-700">Active</span>
                            </div>
                            <p class="text-sm text-gray-500 mb-4">Quality Assurance</p>
                            <div class="flex -space-x-2 mb-4">
                                <div class="w-8 h-8 bg-red-100 rounded-full border-2 border-white flex items-center justify-center"><span class="text-xs font-medium text-red-700">AK</span></div>
                                <div class="w-8 h-8 bg-teal-100 rounded-full border-2 border-white flex items-center justify-center"><span class="text-xs font-medium text-teal-700">LM</span></div>
                            </div>
                            <div class="text-sm text-gray-500"><span class="font-medium">2</span> members &bull; <span class="font-medium">12</span> active tasks</div>
                            <button class="btn btn-secondary w-full mt-4">Manage Team</button>
                        </div>
                    </div>
                </div>

                <!-- Projects Page (Simplified) -->
                <div id="page-projects" class="page hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div><h1 class="text-2xl font-bold text-gray-900">Projects</h1><p class="text-gray-500">Manage SYNAPSE projects</p></div>
                        <button class="btn btn-primary">+ New Project</button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="card hover:shadow-lg transition-shadow cursor-pointer"><div class="flex items-center mb-3"><div class="p-2 bg-synapse-100 rounded-lg"><svg class="w-5 h-5 text-synapse-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/></svg></div><div class="ml-3"><h3 class="font-semibold">SmartFactory AI</h3><p class="text-sm text-gray-500">SFA-001</p></div></div><p class="text-sm text-gray-600 mb-3">Industrial IoT with AI predictive maintenance</p><div class="flex gap-2 mb-3"><span class="badge bg-synapse-100 text-synapse-700">Development</span><span class="badge badge-healthy">IDI: 1.8</span></div><div class="text-sm text-gray-500">8 components &bull; 156 items</div></div>
                        <div class="card hover:shadow-lg transition-shadow cursor-pointer"><div class="flex items-center mb-3"><div class="p-2 bg-synapse-100 rounded-lg"><svg class="w-5 h-5 text-synapse-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/></svg></div><div class="ml-3"><h3 class="font-semibold">IoT Gateway</h3><p class="text-sm text-gray-500">IGP-001</p></div></div><p class="text-sm text-gray-600 mb-3">Universal gateway for edge devices</p><div class="flex gap-2 mb-3"><span class="badge bg-orange-100 text-orange-700">Integration</span><span class="badge badge-warning">IDI: 4.2</span></div><div class="text-sm text-gray-500">5 components &bull; 89 items</div></div>
                        <div class="card hover:shadow-lg transition-shadow cursor-pointer"><div class="flex items-center mb-3"><div class="p-2 bg-synapse-100 rounded-lg"><svg class="w-5 h-5 text-synapse-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/></svg></div><div class="ml-3"><h3 class="font-semibold">Edge Computing</h3><p class="text-sm text-gray-500">ECM-001</p></div></div><p class="text-sm text-gray-600 mb-3">Low-power edge computing module</p><div class="flex gap-2 mb-3"><span class="badge bg-purple-100 text-purple-700">Architecture</span><span class="badge badge-healthy">IDI: 0.5</span></div><div class="text-sm text-gray-500">4 components &bull; 42 items</div></div>
                    </div>
                </div>

                <!-- Work Items Page -->
                <div id="page-workitems" class="page hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div><h1 class="text-2xl font-bold text-gray-900">Work Items</h1><p class="text-gray-500">Backlog Management</p></div>
                        <button class="btn btn-primary">+ New Work Item</button>
                    </div>
                    <div class="grid grid-cols-4 gap-4">
                        <div class="bg-gray-100 rounded-lg p-4"><h3 class="font-semibold text-gray-700 mb-3">To Do (5)</h3><div class="space-y-2"><div class="card p-3"><span class="badge bg-purple-100 text-purple-700 mb-2">Story</span><p class="text-sm font-medium">Implement sensor API</p><div class="flex justify-between mt-2 text-xs text-gray-500"><span>5 SP</span><span>JS</span></div></div><div class="card p-3"><span class="badge bg-red-100 text-red-700 mb-2">Bug</span><p class="text-sm font-medium">Fix memory leak</p><div class="flex justify-between mt-2 text-xs text-gray-500"><span>2 SP</span><span>SJ</span></div></div></div></div>
                        <div class="bg-gray-100 rounded-lg p-4"><h3 class="font-semibold text-gray-700 mb-3">In Progress (3)</h3><div class="space-y-2"><div class="card p-3 border-l-4 border-synapse-500"><span class="badge bg-purple-100 text-purple-700 mb-2">Story</span><p class="text-sm font-medium">Build ML inference</p><div class="flex justify-between mt-2 text-xs text-gray-500"><span>8 SP</span><span>SJ</span></div></div></div></div>
                        <div class="bg-gray-100 rounded-lg p-4"><h3 class="font-semibold text-gray-700 mb-3">In Review (2)</h3><div class="space-y-2"><div class="card p-3"><span class="badge bg-blue-100 text-blue-700 mb-2">Task</span><p class="text-sm font-medium">Update API docs</p><div class="flex justify-between mt-2 text-xs text-gray-500"><span>2 SP</span><span>MW</span></div></div></div></div>
                        <div class="bg-gray-100 rounded-lg p-4"><h3 class="font-semibold text-gray-700 mb-3">Done (8)</h3><div class="space-y-2"><div class="card p-3 opacity-60"><span class="badge bg-purple-100 text-purple-700 mb-2">Story</span><p class="text-sm font-medium line-through">Setup CI/CD</p><div class="flex justify-between mt-2 text-xs text-gray-500"><span>5 SP</span><span class="text-green-500">Done</span></div></div></div></div>
                    </div>
                </div>

                <!-- Sprints Page -->
                <div id="page-sprints" class="page hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div><h1 class="text-2xl font-bold text-gray-900">Sprints</h1><p class="text-gray-500">Sprint Management</p></div>
                        <button class="btn btn-primary">+ New Sprint</button>
                    </div>
                    <div class="card mb-6 border-2 border-synapse-500">
                        <div class="flex justify-between items-start mb-4"><div><h2 class="text-xl font-bold">Sprint 8 <span class="badge bg-green-100 text-green-700 ml-2">Active</span></h2><p class="text-gray-500">Jan 6 - Jan 20, 2026</p></div><button class="btn btn-secondary">Complete Sprint</button></div>
                        <p class="text-gray-600 mb-4"><strong>Goal:</strong> Complete ML inference engine</p>
                        <div class="grid grid-cols-4 gap-4 mb-4"><div class="text-center p-3 bg-gray-50 rounded-lg"><p class="text-2xl font-bold">34</p><p class="text-xs text-gray-500">Planned SP</p></div><div class="text-center p-3 bg-gray-50 rounded-lg"><p class="text-2xl font-bold text-green-600">21</p><p class="text-xs text-gray-500">Completed</p></div><div class="text-center p-3 bg-gray-50 rounded-lg"><p class="text-2xl font-bold text-synapse-600">13</p><p class="text-xs text-gray-500">Remaining</p></div><div class="text-center p-3 bg-gray-50 rounded-lg"><p class="text-2xl font-bold">62%</p><p class="text-xs text-gray-500">Progress</p></div></div>
                        <div class="w-full bg-gray-200 rounded-full h-3"><div class="bg-synapse-600 h-3 rounded-full" style="width:62%"></div></div>
                    </div>
                </div>

                <!-- IDI Dashboard Page -->
                <div id="page-idi" class="page hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div><h1 class="text-2xl font-bold text-gray-900">IDI Dashboard</h1><p class="text-gray-500">Integration Debt Index</p></div>
                        <button class="btn btn-secondary">Recalculate All</button>
                    </div>
                    <div class="grid grid-cols-3 gap-4 mb-6">
                        <div class="card bg-gradient-to-br from-synapse-50 to-white"><p class="text-sm text-gray-500">Project IDI</p><p class="text-3xl font-bold">2.9</p></div>
                        <div class="card"><p class="text-sm text-gray-500">At Risk</p><p class="text-3xl font-bold text-yellow-600">2</p></div>
                        <div class="card"><p class="text-sm text-gray-500">Healthy</p><p class="text-3xl font-bold text-green-600">3</p></div>
                    </div>
                    <div class="card">
                        <table class="w-full text-sm"><thead><tr class="text-left text-xs text-gray-500 uppercase border-b"><th class="pb-3">Component</th><th class="pb-3">Type</th><th class="pb-3">IDI</th><th class="pb-3">Status</th><th class="pb-3">Days</th></tr></thead>
                        <tbody>
                            <tr class="border-b"><td class="py-3 font-medium">Edge Module</td><td><span class="badge bg-orange-100 text-orange-700">Firmware</span></td><td class="font-bold">1.2</td><td><span class="badge badge-healthy">Healthy</span></td><td>2</td></tr>
                            <tr class="border-b bg-yellow-50"><td class="py-3 font-medium">Cloud Gateway</td><td><span class="badge bg-blue-100 text-blue-700">Software</span></td><td class="font-bold text-yellow-600">4.5</td><td><span class="badge badge-warning">Warning</span></td><td>5</td></tr>
                            <tr class="bg-red-50"><td class="py-3 font-medium">ML Inference</td><td><span class="badge bg-blue-100 text-blue-700">Software</span></td><td class="font-bold text-red-600">5.8</td><td><span class="badge badge-critical">Critical</span></td><td>8</td></tr>
                        </tbody></table>
                    </div>
                </div>

                <!-- Quality Gates Page -->
                <div id="page-qualitygates" class="page hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div><h1 class="text-2xl font-bold text-gray-900">Quality Gates</h1><p class="text-gray-500">Policy-as-Code</p></div>
                        <button class="btn btn-primary">+ Add Gate</button>
                    </div>
                    <div class="space-y-4">
                        <div class="card flex items-center justify-between"><div class="flex items-center"><div class="p-3 bg-synapse-100 rounded-lg mr-4"><svg class="w-6 h-6 text-synapse-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg></div><div><h3 class="font-semibold">Power Budget</h3><p class="text-sm text-gray-500">power_watts &lt; 5.0 W</p></div></div><div class="flex items-center space-x-4"><span class="text-sm text-gray-500">Pre-commit</span><div class="p-2 bg-green-100 rounded-full"><svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg></div></div></div>
                        <div class="card flex items-center justify-between"><div class="flex items-center"><div class="p-3 bg-synapse-100 rounded-lg mr-4"><svg class="w-6 h-6 text-synapse-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg></div><div><h3 class="font-semibold">Latency Threshold</h3><p class="text-sm text-gray-500">latency_ms &lt; 100 ms</p></div></div><div class="flex items-center space-x-4"><span class="text-sm text-gray-500">Build Pipeline</span><div class="p-2 bg-green-100 rounded-full"><svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg></div></div></div>
                    </div>
                </div>

                <!-- Components Page -->
                <div id="page-components" class="page hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div><h1 class="text-2xl font-bold text-gray-900">Components</h1><p class="text-gray-500">HW/FW/SW Layers</p></div>
                        <button class="btn btn-primary">+ Add Component</button>
                    </div>
                    <div class="grid grid-cols-3 gap-4">
                        <div class="card"><div class="flex items-center mb-3"><div class="p-2 bg-purple-100 rounded-lg"><svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"/></svg></div><div class="ml-3"><h3 class="font-semibold">Sensor Driver</h3><span class="badge bg-purple-100 text-purple-700">Hardware</span></div></div><div class="text-sm space-y-1"><div class="flex justify-between"><span class="text-gray-500">IDI</span><span class="font-medium text-green-600">0.8</span></div><div class="flex justify-between"><span class="text-gray-500">Power</span><span>1.5 / 2.0 W</span></div></div></div>
                        <div class="card border-2 border-yellow-300"><div class="flex items-center mb-3"><div class="p-2 bg-blue-100 rounded-lg"><svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"/></svg></div><div class="ml-3"><h3 class="font-semibold">Cloud Gateway</h3><span class="badge bg-blue-100 text-blue-700">Software</span></div></div><div class="text-sm space-y-1"><div class="flex justify-between"><span class="text-gray-500">IDI</span><span class="font-medium text-yellow-600">4.5</span></div><div class="flex justify-between"><span class="text-gray-500">Latency</span><span>85 / 100 ms</span></div></div></div>
                        <div class="card border-2 border-red-300"><div class="flex items-center mb-3"><div class="p-2 bg-blue-100 rounded-lg"><svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"/></svg></div><div class="ml-3"><h3 class="font-semibold">ML Inference</h3><span class="badge bg-blue-100 text-blue-700">Software</span></div></div><div class="text-sm space-y-1"><div class="flex justify-between"><span class="text-gray-500">IDI</span><span class="font-medium text-red-600">5.8</span></div><div class="flex justify-between"><span class="text-gray-500">Memory</span><span class="text-red-600">950 / 1024 MB</span></div></div></div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="newRiskModal" class="modal">
        <div class="bg-white rounded-xl p-6 w-full max-w-lg mx-4">
            <h2 class="text-xl font-bold mb-4">Add New Risk</h2>
            <div class="space-y-4">
                <div><label class="block text-sm font-medium mb-1">Risk Title</label><input type="text" class="input" placeholder="e.g. Hardware supply chain delay"></div>
                <div class="grid grid-cols-2 gap-4">
                    <div><label class="block text-sm font-medium mb-1">Probability</label><select class="input"><option>Very Low</option><option>Low</option><option selected>Medium</option><option>High</option><option>Very High</option></select></div>
                    <div><label class="block text-sm font-medium mb-1">Impact</label><select class="input"><option>Very Low</option><option>Low</option><option selected>Medium</option><option>High</option><option>Very High</option></select></div>
                </div>
                <div><label class="block text-sm font-medium mb-1">Category</label><select class="input"><option>Technical</option><option>Supply Chain</option><option>Resource</option><option>External</option></select></div>
                <div><label class="block text-sm font-medium mb-1">Mitigation Plan</label><textarea class="input" rows="3"></textarea></div>
                <div><label class="block text-sm font-medium mb-1">Owner</label><select class="input"><option>John Smith</option><option>Sarah Johnson</option><option>Mike Wilson</option></select></div>
            </div>
            <div class="flex justify-end space-x-3 mt-6">
                <button class="btn btn-secondary" onclick="closeModal('newRiskModal')">Cancel</button>
                <button class="btn btn-primary" onclick="closeModal('newRiskModal');alert('Risk added! (Demo)')">Add Risk</button>
            </div>
        </div>
    </div>

    <div id="newAutomationModal" class="modal">
        <div class="bg-white rounded-xl p-6 w-full max-w-lg mx-4">
            <h2 class="text-xl font-bold mb-4">Create Automation Rule</h2>
            <div class="space-y-4">
                <div><label class="block text-sm font-medium mb-1">Rule Name</label><input type="text" class="input" placeholder="e.g. Auto-assign to sprint"></div>
                <div><label class="block text-sm font-medium mb-1">WHEN (Trigger)</label><select class="input"><option>Work item created</option><option>Status changed</option><option>IDI threshold exceeded</option><option>Due date approaching</option><option>Risk score changed</option></select></div>
                <div><label class="block text-sm font-medium mb-1">IF (Condition)</label><input type="text" class="input" placeholder="e.g. status = 'Ready'"></div>
                <div><label class="block text-sm font-medium mb-1">THEN (Action)</label><select class="input"><option>Send notification</option><option>Assign to user</option><option>Change status</option><option>Add to sprint</option><option>Create task</option><option>Send email</option></select></div>
            </div>
            <div class="flex justify-end space-x-3 mt-6">
                <button class="btn btn-secondary" onclick="closeModal('newAutomationModal')">Cancel</button>
                <button class="btn btn-primary" onclick="closeModal('newAutomationModal');alert('Automation created! (Demo)')">Create Rule</button>
            </div>
        </div>
    </div>

    <div id="newUserModal" class="modal">
        <div class="bg-white rounded-xl p-6 w-full max-w-lg mx-4">
            <h2 class="text-xl font-bold mb-4">Invite User</h2>
            <div class="space-y-4">
                <div><label class="block text-sm font-medium mb-1">Email</label><input type="email" class="input" placeholder="user@company.com"></div>
                <div><label class="block text-sm font-medium mb-1">Role</label><select class="input"><option>Developer</option><option>Project Manager</option><option>QA Lead</option><option>Stakeholder</option></select></div>
                <div><label class="block text-sm font-medium mb-1">Team</label><select class="input"><option>Team Alpha</option><option>Team Beta</option><option>QA Team</option></select></div>
            </div>
            <div class="flex justify-end space-x-3 mt-6">
                <button class="btn btn-secondary" onclick="closeModal('newUserModal')">Cancel</button>
                <button class="btn btn-primary" onclick="closeModal('newUserModal');alert('Invitation sent! (Demo)')">Send Invitation</button>
            </div>
        </div>
    </div>

    <div id="newRoleModal" class="modal">
        <div class="bg-white rounded-xl p-6 w-full max-w-lg mx-4">
            <h2 class="text-xl font-bold mb-4">Create New Role</h2>
            <div class="space-y-4">
                <div><label class="block text-sm font-medium mb-1">Role Name</label><input type="text" class="input" placeholder="e.g. Tech Lead"></div>
                <div><label class="block text-sm font-medium mb-1">Description</label><input type="text" class="input" placeholder="Role description"></div>
                <div><label class="block text-sm font-medium mb-1">Permissions</label>
                    <div class="space-y-2 mt-2">
                        <label class="flex items-center"><input type="checkbox" class="mr-2"> Create Projects</label>
                        <label class="flex items-center"><input type="checkbox" checked class="mr-2"> Manage Work Items</label>
                        <label class="flex items-center"><input type="checkbox" checked class="mr-2"> View Reports</label>
                        <label class="flex items-center"><input type="checkbox" class="mr-2"> Manage Users</label>
                        <label class="flex items-center"><input type="checkbox" class="mr-2"> Configure Automation</label>
                    </div>
                </div>
            </div>
            <div class="flex justify-end space-x-3 mt-6">
                <button class="btn btn-secondary" onclick="closeModal('newRoleModal')">Cancel</button>
                <button class="btn btn-primary" onclick="closeModal('newRoleModal');alert('Role created! (Demo)')">Create Role</button>
            </div>
        </div>
    </div>

    <script>
        // Page navigation
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
            document.getElementById('page-' + pageId).classList.remove('hidden');
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            if (event && event.currentTarget) event.currentTarget.classList.add('active');
        }

        // Modal functions
        function openModal(id) { document.getElementById(id).classList.add('active'); }
        function closeModal(id) { document.getElementById(id).classList.remove('active'); }
        document.querySelectorAll('.modal').forEach(m => m.addEventListener('click', e => { if(e.target === m) m.classList.remove('active'); }));

        // Report tabs
        function showReportTab(tab) {
            document.querySelectorAll('.report-content').forEach(c => c.classList.add('hidden'));
            document.getElementById('report-' + tab).classList.remove('hidden');
            document.querySelectorAll('#page-reports .tab').forEach(t => t.classList.remove('active'));
            event.currentTarget.classList.add('active');
        }

        // User tabs
        function showUserTab(tab) {
            document.querySelectorAll('[id^="users-tab-"]').forEach(c => c.classList.add('hidden'));
            document.getElementById('users-tab-' + tab).classList.remove('hidden');
            document.querySelectorAll('#page-users .tab').forEach(t => t.classList.remove('active'));
            event.currentTarget.classList.add('active');
        }

        // AI Chat
        function sendChat() {
            const input = document.getElementById('chatInput');
            const msg = input.value.trim();
            if (!msg) return;
            const container = document.getElementById('chatMessages');
            container.innerHTML += '<div class="chat-bubble chat-user"><p>' + msg + '</p></div>';
            container.innerHTML += '<div class="chat-bubble chat-ai"><p class="font-medium mb-1">SYNAPSE AI</p><p>I understand you want to: "' + msg + '". This feature is available in the full version. For now, try exploring the demo pages!</p></div>';
            input.value = '';
            container.scrollTop = container.scrollHeight;
        }
        function setChat(text) { document.getElementById('chatInput').value = text; }

        // Calendar
        function generateCalendar() {
            const grid = document.getElementById('calendarGrid');
            grid.innerHTML = '';
            const days = [29, 30, 31, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 1];
            const events = {6: 'synapse', 20: 'synapse', 21: 'yellow', 25: 'green'};
            days.forEach((d, i) => {
                const isOther = i < 3 || i > 33;
                const hasEvent = events[d] && !isOther;
                grid.innerHTML += '<div class="min-h-[80px] p-2 border rounded ' + (isOther ? 'bg-gray-50 text-gray-400' : 'bg-white') + '">' +
                    '<span class="text-sm font-medium">' + d + '</span>' +
                    (hasEvent ? '<div class="mt-1 text-xs p-1 rounded bg-' + events[d] + '-100 text-' + events[d] + '-700">Event</div>' : '') + '</div>';
            });
        }
        generateCalendar();

        // Charts
        document.addEventListener('DOMContentLoaded', function() {
            // Burndown
            if (document.getElementById('burndownChart')) {
                new Chart(document.getElementById('burndownChart'), {
                    type: 'line',
                    data: { labels: ['Day 1','Day 3','Day 5','Day 7','Day 9','Day 11','Day 13'], datasets: [
                        { label: 'Ideal', data: [34,28,23,17,11,6,0], borderColor: '#94a3b8', borderDash: [5,5], fill: false },
                        { label: 'Actual', data: [34,30,26,22,18,13,null], borderColor: '#0284c7', fill: false }
                    ]},
                    options: { responsive: true, plugins: { legend: { display: true }}}
                });
            }
            // CFD
            if (document.getElementById('cfdChart')) {
                new Chart(document.getElementById('cfdChart'), {
                    type: 'line',
                    data: { labels: ['Week 1','Week 2','Week 3','Week 4'], datasets: [
                        { label: 'Done', data: [5,15,30,42], backgroundColor: 'rgba(34,197,94,0.5)', fill: true },
                        { label: 'In Progress', data: [8,12,15,10], backgroundColor: 'rgba(234,179,8,0.5)', fill: true },
                        { label: 'To Do', data: [30,25,18,12], backgroundColor: 'rgba(148,163,184,0.5)', fill: true }
                    ]},
                    options: { responsive: true, scales: { y: { stacked: true }}, plugins: { legend: { display: true }}}
                });
            }
            // CFD Main
            if (document.getElementById('cfdMainChart')) {
                new Chart(document.getElementById('cfdMainChart'), {
                    type: 'line',
                    data: { labels: ['Jan 1','Jan 5','Jan 10','Jan 15','Jan 20','Jan 25','Jan 30'], datasets: [
                        { label: 'Done', data: [10,25,45,70,95,125,150], backgroundColor: 'rgba(34,197,94,0.6)', fill: true },
                        { label: 'In Review', data: [5,10,15,20,25,30,35], backgroundColor: 'rgba(59,130,246,0.6)', fill: true },
                        { label: 'In Progress', data: [15,20,25,30,35,40,45], backgroundColor: 'rgba(234,179,8,0.6)', fill: true },
                        { label: 'To Do', data: [120,100,80,55,35,20,10], backgroundColor: 'rgba(148,163,184,0.6)', fill: true }
                    ]},
                    options: { responsive: true, scales: { y: { stacked: true }}, plugins: { legend: { position: 'bottom' }}}
                });
            }
            // Velocity
            if (document.getElementById('velocityChart')) {
                new Chart(document.getElementById('velocityChart'), {
                    type: 'bar',
                    data: { labels: ['Sprint 3','Sprint 4','Sprint 5','Sprint 6','Sprint 7','Sprint 8'], datasets: [
                        { label: 'Committed', data: [30,35,32,30,35,34], backgroundColor: 'rgba(2,132,199,0.3)' },
                        { label: 'Completed', data: [28,38,30,28,32,21], backgroundColor: 'rgba(2,132,199,0.8)' }
                    ]},
                    options: { responsive: true }
                });
            }
            // Test Trend
            if (document.getElementById('testTrendChart')) {
                new Chart(document.getElementById('testTrendChart'), {
                    type: 'line',
                    data: { labels: ['Week 1','Week 2','Week 3','Week 4'], datasets: [
                        { label: 'Passed', data: [120,130,138,142], borderColor: '#22c55e', fill: false },
                        { label: 'Failed', data: [15,12,10,8], borderColor: '#ef4444', fill: false }
                    ]},
                    options: { responsive: true }
                });
            }
            // Risk Trend
            if (document.getElementById('riskTrendChart')) {
                new Chart(document.getElementById('riskTrendChart'), {
                    type: 'line',
                    data: { labels: ['Week 1','Week 2','Week 3','Week 4'], datasets: [
                        { label: 'Total Risk Score', data: [65,58,52,48], borderColor: '#f59e0b', fill: false }
                    ]},
                    options: { responsive: true, plugins: { legend: { display: false }}}
                });
            }
        });
    </script>
</body>
</html>
